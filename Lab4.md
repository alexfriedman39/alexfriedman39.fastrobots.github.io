# Lab 4: Motor Drivers and Open Loop Control

## Prelab

Before soldering my motor drivers, I first drew the following diagram.

*** DRAW AND ADD IN THE DIAGRAM ***

READ OTHERS FOR 2 BATTERY EXPLANATION

## Task 1: Motor Driver with Power Supply and Oscilloscope Hookup

After soldering my motor drivers, I hooked them up to the DC power supply and used the oscilloscope to check the inputs and outputs of the motor driver. Each pin was tested separately. The DC power supply was set to 3.7 volts. I decided on this voltage because it is same as that of the 850 mAh battery. The setup is shown in the picture below.

*** ADD PHOTO OF SETUP HERE ***

I used the following code in order to generate PWM signals. As you can see, for each motor driver, I set input 1 (pin 0) to 100, but I set input 2 (pin 1) to 200, double of input 1. The maximum is 255.

*** ADD PHOTO OF CODE HERE ***

The following images show the signal generated by the input pins as a result of the code above. To the left is the PWM signal for pin 1, and the PWM signal for pin 2 is seen on the right. The oscilloscope settings are the same between the two signals, so it is evident that the duty cycle of pin 1 is half that of pin 2, corresponding to the values given to the pins in the code above. 

*** ADD PIN 1 VIDEO LEFT, PIN 2 VIDEO RIGHT ***

Then, I checked the signal being generated by the output pins. The signals are shown in the images below, output 1 on the left, and output 2 on the right. Whereas the first input had a larger duty cycle than input 2, the opposite behavior is exibited by the outputs.

*** ADD OUTPUT 1 PIC LEFT, OUTPUT 2 RIGHT ***

These oscilloscope outputs showed that varying the PWM value of the Artemis pins will change the duty cycle of the signal. This will in turn change the outputs on the motor driver, allowing you to regulate its power. 

## Task 2: Spin Left and Right Wheels Individually

After using the oscilloscope to show that the motor drivers were properly wired and that the signal could be varied, I connected the output pins of the motor drivers to the motors. The motor drivers remained powered by the DC power supply. In order to test whether the wheels could spin in both directions, I used the code seen below. For easier visualization, the left and right wheels were tested separately. 

*** ADD CODE FOR SPINNING LEFT AND RIGHT WHEELS SEPARATELY ***

After the code shown above was uploaded, both the left and right wheels were able to run forward for 5 seconds, stop for a half second, run backward for 5 seconds, and repeat. The videos for the left and right wheels are shown below, respectively.

*** VIDEO OF LEFT AND RIGHT WHEELS SPINNING (W DC POWER)

